<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 400">
  <defs>
    <style>
      .node-import { fill: #b3d9f2; stroke: #1a5490; stroke-width: 3; }
      .node-tidy { fill: #d4edda; stroke: #28a745; stroke-width: 3; }
      .node-transform { fill: #e8f4fd; stroke: #17a2b8; stroke-width: 3; }
      .node-understand { fill: #fff9c4; stroke: #f57f17; stroke-width: 2; }
      .node-communicate { fill: #ffccbc; stroke: #e64a19; stroke-width: 3; }
      .node-program { fill: #e1bee7; stroke: #7b1fa2; stroke-width: 2; }

      .text-main { font-family: "Noto Sans KR", sans-serif; font-size: 14px; font-weight: 700; text-anchor: middle; fill: #000; }
      .text-small { font-family: "Noto Sans KR", sans-serif; font-size: 11px; text-anchor: middle; fill: #333; }
      .text-en { font-family: "Noto Sans KR", sans-serif; font-size: 10px; text-anchor: middle; fill: #6c757d; font-style: italic; }

      .arrow { stroke: #333; stroke-width: 2.5; fill: none; marker-end: url(#arrowhead); }
      .arrow-cycle { stroke: #7b1fa2; stroke-width: 2; fill: none; marker-end: url(#arrowhead-purple); stroke-dasharray: 5,3; }
    </style>

    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>

    <marker id="arrowhead-purple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#7b1fa2" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="500" y="25" style="font-family: 'Noto Sans KR', sans-serif; font-size: 18px; font-weight: 700; text-anchor: middle; fill: #212529;">데이터 과학 워크플로우 (R for Data Science)</text>

  <!-- Import -->
  <rect x="50" y="80" width="120" height="80" rx="8" class="node-import"/>
  <text x="110" y="110" class="text-main">가져오기</text>
  <text x="110" y="125" class="text-en">Import</text>
  <text x="110" y="145" class="text-small">CSV, DB,</text>
  <text x="110" y="157" class="text-small">API</text>

  <!-- Tidy -->
  <rect x="220" y="80" width="120" height="80" rx="8" class="node-tidy"/>
  <text x="280" y="110" class="text-main">정리</text>
  <text x="280" y="125" class="text-en">Tidy</text>
  <text x="280" y="145" class="text-small">깔끔한</text>
  <text x="280" y="157" class="text-small">데이터 형태</text>

  <!-- Transform -->
  <rect x="390" y="80" width="120" height="80" rx="8" class="node-transform"/>
  <text x="450" y="110" class="text-main">변환</text>
  <text x="450" y="125" class="text-en">Transform</text>
  <text x="450" y="145" class="text-small">필터링,</text>
  <text x="450" y="157" class="text-small">변수 생성</text>

  <!-- Understanding box -->
  <rect x="550" y="50" width="320" height="280" rx="10" style="fill: #f8f9fa; stroke: #dee2e6; stroke-width: 2; stroke-dasharray: 5,3;"/>
  <text x="710" y="75" style="font-family: 'Noto Sans KR', sans-serif; font-size: 13px; font-weight: 700; text-anchor: middle; fill: #6c757d;">이해 (Understanding)</text>

  <!-- Visualize -->
  <rect x="580" y="100" width="120" height="80" rx="8" class="node-understand"/>
  <text x="640" y="130" class="text-main">시각화</text>
  <text x="640" y="145" class="text-en">Visualize</text>
  <text x="640" y="165" class="text-small">패턴 발견</text>

  <!-- Model -->
  <rect x="730" y="100" width="120" height="80" rx="8" class="node-understand"/>
  <text x="790" y="130" class="text-main">모델링</text>
  <text x="790" y="145" class="text-en">Model</text>
  <text x="790" y="165" class="text-small">정밀한 질문</text>

  <!-- Cycle between Visualize and Model -->
  <path d="M 700 130 Q 720 110 740 130" class="arrow-cycle"/>
  <path d="M 780 160 Q 760 180 720 160" class="arrow-cycle"/>

  <!-- Communicate -->
  <rect x="600" y="230" width="240" height="80" rx="8" class="node-communicate"/>
  <text x="720" y="260" class="text-main">커뮤니케이션</text>
  <text x="720" y="275" class="text-en">Communicate</text>
  <text x="720" y="295" class="text-small">결과 전달 및</text>
  <text x="720" y="307" class="text-small">비즈니스 번역</text>

  <!-- Program (surrounding all) -->
  <rect x="30" y="60" width="950" height="280" rx="12" class="node-program" style="fill: none;"/>
  <text x="500" y="355" style="font-family: 'Noto Sans KR', sans-serif; font-size: 13px; font-weight: 700; text-anchor: middle; fill: #7b1fa2;">프로그래밍 (Program) - 전체 과정 자동화 및 재현</text>

  <!-- Arrows -->
  <!-- Import to Tidy -->
  <path d="M 170 120 L 220 120" class="arrow"/>

  <!-- Tidy to Transform -->
  <path d="M 340 120 L 390 120" class="arrow"/>

  <!-- Transform to Understanding box -->
  <path d="M 510 120 L 580 120" class="arrow"/>

  <!-- Understanding to Communicate -->
  <path d="M 710 180 L 710 230" class="arrow"/>

  <!-- Legend -->
  <g transform="translate(50, 370)">
    <text x="0" y="0" class="text-small" style="text-anchor: start;">출처: Wickham &amp; Grolemund (2017), R for Data Science</text>
  </g>

</svg>

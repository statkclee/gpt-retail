<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="700" viewBox="0 0 1400 700">
  <defs>
    <style>
      /* 노드 스타일 (흑백 인쇄 최적화) */
      .node-main { fill: #1a5490; stroke: #000; stroke-width: 3px; }
      .node-secondary { fill: #e8f4fd; stroke: #333; stroke-width: 3px; }
      .node-process { fill: #b3d9f2; stroke: #333; stroke-width: 2px; }
      .node-success { fill: #d4edda; stroke: #28a745; stroke-width: 3px; }
      .node-warning { fill: #fff3cd; stroke: #ffc107; stroke-width: 3px; }
      .node-danger { fill: #f8d7da; stroke: #dc3545; stroke-width: 3px; }

      /* 특수 형태 */
      .diamond { fill: #212529; stroke: #000; stroke-width: 3px; }

      /* 텍스트 스타일 */
      .text-main { font-family: "Noto Sans KR", sans-serif; font-size: 14px; text-anchor: middle; fill: #000; }
      .text-main-light { font-family: "Noto Sans KR", sans-serif; font-size: 14px; font-weight: 700; text-anchor: middle; fill: #fff; }
      .text-small { font-family: "Noto Sans KR", sans-serif; font-size: 12px; text-anchor: middle; fill: #000; }
      .text-en { font-family: "Noto Sans KR", sans-serif; font-size: 11px; text-anchor: middle; fill: #6c757d; }
      .text-diamond { font-family: "Noto Sans KR", sans-serif; font-size: 14px; font-weight: 700; text-anchor: middle; fill: #fff; }
      .text-title { font-family: "Noto Sans KR", sans-serif; font-size: 16px; font-weight: 700; text-anchor: middle; fill: #1a5490; }

      /* 연결선 */
      .edge { stroke: #333; stroke-width: 2px; fill: none; marker-end: url(#arrowhead); }
      .edge-danger { stroke: #dc3545; stroke-width: 3px; fill: none; marker-end: url(#arrowhead-danger); }
      .edge-success { stroke: #28a745; stroke-width: 3px; fill: none; marker-end: url(#arrowhead-success); }
    </style>

    <!-- 화살표 마커 -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    <marker id="arrowhead-danger" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#dc3545" />
    </marker>
    <marker id="arrowhead-success" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#28a745" />
    </marker>
  </defs>

  <!-- Section 1: LLM 작동 원리 -->
  <text class="text-title" x="200" y="30">LLM 작동 원리</text>

  <!-- 입력 -->
  <rect class="node-secondary" x="50" y="60" width="120" height="50" rx="5"/>
  <text class="text-main" x="110" y="90">사용자 질문</text>

  <!-- LLM 처리 (다이아몬드) -->
  <path class="diamond" d="M 250 85 L 310 50 L 370 85 L 310 120 Z"/>
  <text class="text-diamond" x="310" y="80">LLM</text>
  <text class="text-diamond" x="310" y="98">패턴 예측</text>

  <!-- 진실 탐색 X -->
  <rect class="node-danger" x="450" y="20" width="140" height="50" rx="5"/>
  <text class="text-main" x="520" y="40">진실 탐색 ✗</text>
  <text class="text-small" x="520" y="58">"사실인가?"</text>

  <!-- 통계적 예측 O -->
  <rect class="node-success" x="450" y="90" width="140" height="50" rx="5"/>
  <text class="text-main" x="520" y="110">통계적 예측 ✓</text>
  <text class="text-small" x="520" y="128">"그럴듯한가?"</text>

  <!-- Connections -->
  <line class="edge" x1="170" y1="85" x2="250" y2="85"/>
  <line class="edge-danger" x1="370" y1="70" x2="450" y2="45"/>
  <line class="edge-success" x1="370" y1="100" x2="450" y2="115"/>

  <!-- Section 2: 환각 발생 4가지 상황 -->
  <text class="text-title" x="200" y="220">환각이 자주 발생하는 상황</text>

  <!-- 상황 1: 최신 정보 -->
  <rect class="node-warning" x="50" y="250" width="140" height="70" rx="5"/>
  <text class="text-main" x="120" y="275">최신 정보 요구</text>
  <text class="text-small" x="120" y="293">학습 데이터</text>
  <text class="text-small" x="120" y="308">마감일 이후</text>

  <!-- 상황 2: 구체적 수치 -->
  <rect class="node-warning" x="220" y="250" width="140" height="70" rx="5"/>
  <text class="text-main" x="290" y="275">구체적 수치 요청</text>
  <text class="text-small" x="290" y="293">특정 날짜, 통계,</text>
  <text class="text-small" x="290" y="308">인용구</text>

  <!-- 상황 3: 희소한 주제 -->
  <rect class="node-warning" x="390" y="250" width="140" height="70" rx="5"/>
  <text class="text-main" x="460" y="275">희소한 주제</text>
  <text class="text-small" x="460" y="293">학습 데이터에</text>
  <text class="text-small" x="460" y="308">적게 포함</text>

  <!-- 상황 4: 모호한 질문 -->
  <rect class="node-warning" x="560" y="250" width="140" height="70" rx="5"/>
  <text class="text-main" x="630" y="275">모호한 질문</text>
  <text class="text-small" x="630" y="293">여러 해석 가능한</text>
  <text class="text-small" x="630" y="308">애매한 요청</text>

  <!-- Section 3: 팩트체크 4단계 프로세스 -->
  <text class="text-title" x="1050" y="30">팩트체크 프로세스</text>

  <!-- AI 출력 -->
  <rect class="node-secondary" x="800" y="60" width="140" height="50" rx="5"/>
  <text class="text-main" x="870" y="90">AI 출력</text>

  <!-- 단계 1: 출처 확인 -->
  <rect class="node-process" x="980" y="60" width="140" height="60" rx="5"/>
  <text class="text-main" x="1050" y="80">1. 출처 확인</text>
  <text class="text-small" x="1050" y="98">DOI, URL,</text>
  <text class="text-small" x="1050" y="113">출판사 검증</text>

  <!-- 단계 2: 교차 검증 -->
  <rect class="node-process" x="980" y="140" width="140" height="60" rx="5"/>
  <text class="text-main" x="1050" y="160">2. 교차 검증</text>
  <text class="text-small" x="1050" y="178">여러 AI 모델,</text>
  <text class="text-small" x="1050" y="193">전문 DB 대조</text>

  <!-- 단계 3: 비판적 사고 -->
  <rect class="node-process" x="980" y="220" width="140" height="60" rx="5"/>
  <text class="text-main" x="1050" y="240">3. 비판적 사고</text>
  <text class="text-small" x="1050" y="258">반대 증거</text>
  <text class="text-small" x="1050" y="273">검토</text>

  <!-- 단계 4: RAG 활용 -->
  <rect class="node-process" x="980" y="300" width="140" height="60" rx="5"/>
  <text class="text-main" x="1050" y="320">4. RAG 활용</text>
  <text class="text-small" x="1050" y="338">출처 명시된</text>
  <text class="text-small" x="1050" y="353">답변 우선</text>

  <!-- 검증된 출력 -->
  <rect class="node-success" x="1160" y="180" width="140" height="50" rx="5"/>
  <text class="text-main" x="1230" y="210">검증된 정보</text>

  <!-- Connections for fact-check -->
  <line class="edge" x1="940" y1="85" x2="980" y2="85"/>
  <line class="edge" x1="870" y1="110" x2="870" y2="390" stroke="#333" stroke-width="2"/>
  <line class="edge" x1="870" y1="170" x2="980" y2="170"/>
  <line class="edge" x1="870" y1="250" x2="980" y2="250"/>
  <line class="edge" x1="870" y1="330" x2="980" y2="330"/>

  <line class="edge-success" x1="1120" y1="90" x2="1160" y2="205"/>
  <line class="edge-success" x1="1120" y1="170" x2="1160" y2="205"/>
  <line class="edge-success" x1="1120" y1="250" x2="1160" y2="205"/>
  <line class="edge-success" x1="1120" y1="330" x2="1160" y2="205"/>

  <!-- Section 4: 실제 사례 -->
  <text class="text-title" x="350" y="420">실제 환각 사례</text>

  <!-- 사례 1: 변호사 사건 -->
  <rect class="node-danger" x="50" y="450" width="200" height="90" rx="5"/>
  <text class="text-main" x="150" y="475">뉴욕 변호사 사건 (2023)</text>
  <text class="text-small" x="150" y="493">ChatGPT가 생성한</text>
  <text class="text-small" x="150" y="508">가짜 판례 6건 인용</text>
  <text class="text-small" x="150" y="523">재확인해도 "실제"라 답변</text>
  <text class="text-small" x="150" y="538">→ 5천 달러 벌금</text>

  <!-- 사례 2: 코드 환각 -->
  <rect class="node-danger" x="270" y="450" width="200" height="90" rx="5"/>
  <text class="text-main" x="370" y="475">MIT 코드 환각 연구 (2024)</text>
  <text class="text-small" x="370" y="493">시계열 분석 코드 요청 시</text>
  <text class="text-small" x="370" y="508">25% 경우 존재하지 않는</text>
  <text class="text-small" x="370" y="523">라이브러리 함수 사용</text>
  <text class="text-small" x="370" y="538">예: fit_missing()</text>

  <!-- 사례 3: 학생 리포트 -->
  <rect class="node-danger" x="490" y="450" width="200" height="90" rx="5"/>
  <text class="text-main" x="590" y="475">스탠포드 연구 (2024)</text>
  <text class="text-small" x="590" y="493">대학생 68%가 AI 통계</text>
  <text class="text-small" x="590" y="508">확인 없이 리포트 사용</text>
  <text class="text-small" x="590" y="523">그 중 42%가 잘못된 정보</text>
  <text class="text-small" x="590" y="538">출처 확인율: 23%</text>

  <!-- Bottom warning -->
  <rect class="node-main" x="800" y="450" width="500" height="90" rx="5"/>
  <text class="text-main-light" x="1050" y="480">환각률: GPT-4도 15-20%</text>
  <text class="text-main-light" x="1050" y="505">AI는 "그럴듯함"을 생성하지 "진실"을 찾지 않는다</text>
  <text class="text-main-light" x="1050" y="530">→ 팩트체크는 필수, 최종 책임은 사용자에게</text>

  <!-- Section divider lines -->
  <line x1="0" y1="200" x2="750" y2="200" stroke="#dee2e6" stroke-width="2"/>
  <line x1="0" y1="400" x2="1400" y2="400" stroke="#dee2e6" stroke-width="2"/>
  <line x1="750" y1="20" x2="750" y2="380" stroke="#dee2e6" stroke-width="2"/>
</svg>
